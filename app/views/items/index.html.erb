<h1 class="text-center mt-4">OG≈ÅOSZENIA</h1>

<%= form_tag(items_path, method: :get, class: 'row g-0') do %>
  <div class="col-9">
    <%= text_field_tag :search, params[:search], placeholder: 'Szukaj...', class: 'col form-control' %>
  </div>
  <div class="col-2" data-controller="search">
    <%= search_field_tag :place, params[:place], data: { 'search-target': "location", action: "keydown->search#preventSubmit" }, class: 'form-control' %>
  </div>
  <div class="col-1">
    <%= button_tag(type: 'submit', class: "btn btn-outline-primary") do %>
      Szukaj
      <i class="bi-search"></i>
    <% end %>
  </div>
<% end %>

<div class="d-flex justify-content-end gap-1 align-items-center py-3">
  SORTOWANIE
  <%= link_to items_path(sort_type: 'LOWER(title)'), class:"btn btn-primary" do %>
    <i class="bi-arrow-up"></i>
    Nazwa
  <% end %>
  <%= link_to items_path(sort_type: 'LOWER(title) DESC'), class:"btn btn-primary" do %>
    <i class="bi-arrow-down"></i>
    Nazwa
  <% end %>
  <%= link_to items_path(sort_type: 'created_at'), class:"btn btn-primary" do %>
    <i class="bi-arrow-up"></i>
    Data
  <% end %>
  <%= link_to items_path(sort_type: 'created_at DESC'), class:"btn btn-primary" do %>
    <i class="bi-arrow-down"></i>
    Data
  <% end %>
  <%= link_to items_path(sort_type: ''), class:"btn btn-outline-primary" do %>
    <i class="bi-book"></i> 
  <% end %>
    <%= link_to items_path(sort_type: ''), class:"btn btn-outline-primary" do %>
    <i class="bi-dice-3"></i>
  <% end %>

</div>

<div class="row gx-3 gy-3 pb-5">
  <% @items.each do |item| %>
    <%= render partial: 'item', locals: { item: item, can_edit: false, in_trade: false } %>
  <% end %>
</div>