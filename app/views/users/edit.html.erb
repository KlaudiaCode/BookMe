<h1 class="text-center mt-4">ZMIANA DANYCH</h1>
<div class="row justify-content-center mb-5">
  <div data-controller="userMap" class="col-8 bg-white p-4 rounded">
    
    <%= form_with model: @user do |form| %>
      <div class="mb-3">
        <%= form.label :name, 'Imię', class: 'form-label' %>
        <%= form.text_field :name, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-3">
        <%= form.label :surname, 'Nazwisko', class: 'form-label' %>
        <%= form.text_field :surname, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-3">
        <%= form.label :username, 'Login', class: 'form-label' %>
        <%= form.text_field :username, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-3">
        <%= form.label :email, 'E-mail', class: 'form-label' %>
        <%= form.text_field :email, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-3">
        <%= form.label :bio, 'O mnie', class: 'form-label' %>
        <%= form.text_area :bio, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-4">
        <%= form.label :place, 'Lokalizacja', class: 'form-label' %>
        <%= form.search_field :place, data: { 'userMap-target': "field", action: "keydown->userMap#preventSubmit" }, class: 'form-control bg-light' %>
      </div>

      <%= form.hidden_field :latitude, data: { 'userMap-target': 'latitude' } %>
      <%= form.hidden_field :longitude, data: { 'userMap-target': 'longitude' } %>
      <%= content_tag :div, nil, data: { 'userMap-target': "map" }, class: 'map mb-4' %>

      <div class="mb-3">
        <br>
        <%= form.submit 'Zmień dane', class: 'btn btn-primary w-100' %>
      </div>
    <% end %>

    <%= form_with url: users_change_password_path do |form| %>
      <div class="mb-3">
        <%= form.label :old_password, 'Stare hasło', class: 'form-label' %>
        <%= form.password_field :old_password, class: 'form-control bg-light'  %>
      </div>

      <div class="mb-3">
        <%= form.label :password, 'Nowe hasło', class: 'form-label' %>
        <%= form.password_field :password, class: 'form-control bg-light'  %>
      </div>

      <%= form.hidden_field :id, value: @user.id %>

      <div class="mb-3">
        <br>
        <%= form.submit 'Zmień dane', class: 'btn btn-primary w-100' %>
      </div>
    <% end %>
  </div>
</div>